{"version":4,"terraform_version":"1.9.0","serial":4,"lineage":"26f1137e-ec63-8549-04eb-49745eda5925","outputs":{},"resources":[{"mode":"managed","type":"libvirt_cloudinit_disk","name":"app_commoninit","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"id":"/var/lib/libvirt/images/k3s_worker_1-commoninit.iso;8c7f2576-4651-4d48-9372-6352ad11a93e","meta_data":"","name":"k3s_worker_1-commoninit.iso","network_config":"ethernets:\n  ens3:\n    addresses:\n      - 192.168.122.31/24\n    dhcp4: false\n    gateway4: 192.168.122.1\n    nameservers:\n      addresses:\n        - 1.1.1.1\n        - 8.8.8.8\nversion: 2\n","pool":"default","user_data":"#cloud-config\nruncmd:\n  - sed -i '/PermitRootLogin/d' /etc/ssh/sshd_config\n  - echo \"PermitRootLogin yes\" \u003e\u003e /etc/ssh/sshd_config\n  - systemctl restart sshd\n  - apt-get update\n  - apt-get install -y qemu-guest-agent\n  - systemctl enable qemu-guest-agent\n  - systemctl start qemu-guest-agent\nssh_pwauth: true\ndisable_root: false\nhostname: \"k3s_worker_1\"\nchpasswd:\n  list: |\n    root:whoami\n  expire: false\nusers:\n  - name: ray\n    gecos: ray\n    groups:\n      - sudo\n    sudo:\n      - ALL=(ALL) NOPASSWD:ALL\n    home: /home/ray\n    shell: /bin/bash\n    lock_passwd: false\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDCHbYYh5tqg9exO3nqzWzCA4sawLlh7hRMdmFccxkhcRtQxi75tNGv92trAdWW1nbXLz9ZIybGg2uQPr0hgVJrnkgcNM3zEN0a83RcfAw0klci31OEU/gRpqqRmZMyRRtPrhavk78FHMwxpHBGpyxrVCSeXwKln+EtcLtjrWBQUatFR7+c19OXffmizjoI1Qyw8FOZETy8Hwu+K6EH3hQ3kPcA+AFHA3lxd9BRw/XuNG9MHXWL+0cmqeddGKG0OWdTvcU0/ZSoIR9FO3yei+Rbtyos5QkOmiSVv6hwipIkx0ji4CeUJ9XRjkNsIP9FHpwuqkLUMqg4K4TjG4X4FxT3xh/jRQsc3BYPCVhzbfws+C7iAYxOvlQm1ikZBsvRQkwbc4+NayxfKqn7c8HV6zFc8FRJf8c6h/odCEYs2J7OdZKdOuDVwZUqvqBvDnxPAe8YMVt8iG5jwqa2XFz+GNkJLdyvGIk8IOq7hRrhBu6rtDkV7SHOoKfXeD5g1im91LwZzRQfqfmD2swF8MoLVOI3YRPAYYqB3MqeMpdwTzW1yOLLMkfyJOA8iw5vhXXQt1Ed6in3Dtvc4p8rfRiUASZD/PWHFdlqS/ybGSlh+1C5BjJb601sKozZmAR5f8KS6y34NoYoMjg5Ug0LHGX3cetN4QeetHLvvrWcV8ZpmQWw== pepuhodaniel93@gmail.com"},"sensitive_attributes":[],"private":"bnVsbA=="},{"index_key":1,"schema_version":0,"attributes":{"id":"/var/lib/libvirt/images/k3s_worker_2-commoninit.iso;d091b19d-ba3e-4fac-9af6-68d02e90709c","meta_data":"","name":"k3s_worker_2-commoninit.iso","network_config":"ethernets:\n  ens3:\n    addresses:\n      - 192.168.122.32/24\n    dhcp4: false\n    gateway4: 192.168.122.1\n    nameservers:\n      addresses:\n        - 1.1.1.1\n        - 8.8.8.8\nversion: 2\n","pool":"default","user_data":"#cloud-config\nruncmd:\n  - sed -i '/PermitRootLogin/d' /etc/ssh/sshd_config\n  - echo \"PermitRootLogin yes\" \u003e\u003e /etc/ssh/sshd_config\n  - systemctl restart sshd\n  - apt-get update\n  - apt-get install -y qemu-guest-agent\n  - systemctl enable qemu-guest-agent\n  - systemctl start qemu-guest-agent\nssh_pwauth: true\ndisable_root: false\nhostname: \"k3s_worker_2\"\nchpasswd:\n  list: |\n    root:whoami\n  expire: false\nusers:\n  - name: ray\n    gecos: ray\n    groups:\n      - sudo\n    sudo:\n      - ALL=(ALL) NOPASSWD:ALL\n    home: /home/ray\n    shell: /bin/bash\n    lock_passwd: false\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDCHbYYh5tqg9exO3nqzWzCA4sawLlh7hRMdmFccxkhcRtQxi75tNGv92trAdWW1nbXLz9ZIybGg2uQPr0hgVJrnkgcNM3zEN0a83RcfAw0klci31OEU/gRpqqRmZMyRRtPrhavk78FHMwxpHBGpyxrVCSeXwKln+EtcLtjrWBQUatFR7+c19OXffmizjoI1Qyw8FOZETy8Hwu+K6EH3hQ3kPcA+AFHA3lxd9BRw/XuNG9MHXWL+0cmqeddGKG0OWdTvcU0/ZSoIR9FO3yei+Rbtyos5QkOmiSVv6hwipIkx0ji4CeUJ9XRjkNsIP9FHpwuqkLUMqg4K4TjG4X4FxT3xh/jRQsc3BYPCVhzbfws+C7iAYxOvlQm1ikZBsvRQkwbc4+NayxfKqn7c8HV6zFc8FRJf8c6h/odCEYs2J7OdZKdOuDVwZUqvqBvDnxPAe8YMVt8iG5jwqa2XFz+GNkJLdyvGIk8IOq7hRrhBu6rtDkV7SHOoKfXeD5g1im91LwZzRQfqfmD2swF8MoLVOI3YRPAYYqB3MqeMpdwTzW1yOLLMkfyJOA8iw5vhXXQt1Ed6in3Dtvc4p8rfRiUASZD/PWHFdlqS/ybGSlh+1C5BjJb601sKozZmAR5f8KS6y34NoYoMjg5Ug0LHGX3cetN4QeetHLvvrWcV8ZpmQWw== pepuhodaniel93@gmail.com"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"libvirt_cloudinit_disk","name":"master_commoninit","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"id":"/var/lib/libvirt/images/k3s_master-commoninit.iso;b2eabdda-cd57-425b-b8a1-d44cbbd3c157","meta_data":"","name":"k3s_master-commoninit.iso","network_config":"ethernets:\n  ens3:\n    addresses:\n      - 192.168.122.30/24\n    dhcp4: false\n    gateway4: 192.168.122.1\n    nameservers:\n      addresses:\n        - 1.1.1.1\n        - 8.8.8.8\nversion: 2\n","pool":"default","user_data":"#cloud-config\nruncmd:\n  - sed -i '/PermitRootLogin/d' /etc/ssh/sshd_config\n  - echo \"PermitRootLogin yes\" \u003e\u003e /etc/ssh/sshd_config\n  - systemctl restart sshd\n  - apt-get update\n  - apt-get install -y qemu-guest-agent\n  - systemctl enable qemu-guest-agent\n  - systemctl start qemu-guest-agent\nssh_pwauth: true\ndisable_root: false\nhostname: \"k3s_master\"\nchpasswd:\n  list: |\n    root:whoami\n  expire: false\nusers:\n  - name: ray\n    gecos: ray\n    groups:\n      - sudo\n    sudo:\n      - ALL=(ALL) NOPASSWD:ALL\n    home: /home/ray\n    shell: /bin/bash\n    lock_passwd: false\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDCHbYYh5tqg9exO3nqzWzCA4sawLlh7hRMdmFccxkhcRtQxi75tNGv92trAdWW1nbXLz9ZIybGg2uQPr0hgVJrnkgcNM3zEN0a83RcfAw0klci31OEU/gRpqqRmZMyRRtPrhavk78FHMwxpHBGpyxrVCSeXwKln+EtcLtjrWBQUatFR7+c19OXffmizjoI1Qyw8FOZETy8Hwu+K6EH3hQ3kPcA+AFHA3lxd9BRw/XuNG9MHXWL+0cmqeddGKG0OWdTvcU0/ZSoIR9FO3yei+Rbtyos5QkOmiSVv6hwipIkx0ji4CeUJ9XRjkNsIP9FHpwuqkLUMqg4K4TjG4X4FxT3xh/jRQsc3BYPCVhzbfws+C7iAYxOvlQm1ikZBsvRQkwbc4+NayxfKqn7c8HV6zFc8FRJf8c6h/odCEYs2J7OdZKdOuDVwZUqvqBvDnxPAe8YMVt8iG5jwqa2XFz+GNkJLdyvGIk8IOq7hRrhBu6rtDkV7SHOoKfXeD5g1im91LwZzRQfqfmD2swF8MoLVOI3YRPAYYqB3MqeMpdwTzW1yOLLMkfyJOA8iw5vhXXQt1Ed6in3Dtvc4p8rfRiUASZD/PWHFdlqS/ybGSlh+1C5BjJb601sKozZmAR5f8KS6y34NoYoMjg5Ug0LHGX3cetN4QeetHLvvrWcV8ZpmQWw== pepuhodaniel93@gmail.com"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"libvirt_domain","name":"application_server","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"arch":"x86_64","autostart":false,"boot_device":[],"cloudinit":"/var/lib/libvirt/images/k3s_worker_1-commoninit.iso;8c7f2576-4651-4d48-9372-6352ad11a93e","cmdline":null,"console":[{"source_host":"127.0.0.1","source_path":"","source_service":"0","target_port":"0","target_type":"serial","type":"pty"}],"coreos_ignition":null,"cpu":[{"mode":"custom"}],"description":"","disk":[{"block_device":"","file":"","scsi":false,"url":"","volume_id":"/var/lib/libvirt/images/debian12-k3s_worker_1.qcow2","wwn":""}],"emulator":"/usr/bin/qemu-system-x86_64","filesystem":[],"firmware":null,"fw_cfg_name":"opt/com.coreos/config","graphics":[{"autoport":true,"listen_address":"127.0.0.1","listen_type":"address","type":"spice","websocket":0}],"id":"71a8ee74-685f-4bda-b372-287f89613a52","initrd":"","kernel":"","machine":"pc","memory":2048,"metadata":null,"name":"k3s_worker_1","network_interface":[{"addresses":[],"bridge":"","hostname":"k3s_worker_1","mac":"52:54:00:9E:AD:97","macvtap":"","network_id":"87a5983b-1b95-4e97-9750-b38942a6047c","network_name":"default","passthrough":"","vepa":"","wait_for_lease":false}],"nvram":null,"qemu_agent":false,"running":true,"timeouts":null,"tpm":[],"type":"kvm","vcpu":2,"video":[],"xml":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["libvirt_cloudinit_disk.app_commoninit","libvirt_volume.app_debian12-qcow2","libvirt_volume.base","null_resource.cache_image"]},{"index_key":1,"schema_version":0,"attributes":{"arch":"x86_64","autostart":false,"boot_device":[],"cloudinit":"/var/lib/libvirt/images/k3s_worker_2-commoninit.iso;d091b19d-ba3e-4fac-9af6-68d02e90709c","cmdline":null,"console":[{"source_host":"127.0.0.1","source_path":"","source_service":"0","target_port":"0","target_type":"serial","type":"pty"}],"coreos_ignition":null,"cpu":[{"mode":"custom"}],"description":"","disk":[{"block_device":"","file":"","scsi":false,"url":"","volume_id":"/var/lib/libvirt/images/debian12-k3s_worker_2.qcow2","wwn":""}],"emulator":"/usr/bin/qemu-system-x86_64","filesystem":[],"firmware":null,"fw_cfg_name":"opt/com.coreos/config","graphics":[{"autoport":true,"listen_address":"127.0.0.1","listen_type":"address","type":"spice","websocket":0}],"id":"8abf315c-0efd-49c2-9724-a496fe0e7e0a","initrd":"","kernel":"","machine":"pc","memory":2048,"metadata":null,"name":"k3s_worker_2","network_interface":[{"addresses":[],"bridge":"","hostname":"k3s_worker_2","mac":"52:54:00:DA:1B:1D","macvtap":"","network_id":"87a5983b-1b95-4e97-9750-b38942a6047c","network_name":"default","passthrough":"","vepa":"","wait_for_lease":false}],"nvram":null,"qemu_agent":false,"running":true,"timeouts":null,"tpm":[],"type":"kvm","vcpu":2,"video":[],"xml":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["libvirt_cloudinit_disk.app_commoninit","libvirt_volume.app_debian12-qcow2","libvirt_volume.base","null_resource.cache_image"]}]},{"mode":"managed","type":"libvirt_domain","name":"master","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"arch":"x86_64","autostart":false,"boot_device":[],"cloudinit":"/var/lib/libvirt/images/k3s_master-commoninit.iso;b2eabdda-cd57-425b-b8a1-d44cbbd3c157","cmdline":null,"console":[{"source_host":"127.0.0.1","source_path":"","source_service":"0","target_port":"0","target_type":"serial","type":"pty"}],"coreos_ignition":null,"cpu":[{"mode":"custom"}],"description":"","disk":[{"block_device":"","file":"","scsi":false,"url":"","volume_id":"/var/lib/libvirt/images/debian12-k3s_master.qcow2","wwn":""}],"emulator":"/usr/bin/qemu-system-x86_64","filesystem":[],"firmware":null,"fw_cfg_name":"opt/com.coreos/config","graphics":[{"autoport":true,"listen_address":"127.0.0.1","listen_type":"address","type":"spice","websocket":0}],"id":"bbe56777-ff93-4f7a-b793-687e265b3ace","initrd":"","kernel":"","machine":"pc","memory":4096,"metadata":null,"name":"k3s_master","network_interface":[{"addresses":[],"bridge":"","hostname":"k3s_master","mac":"52:54:00:66:5E:2B","macvtap":"","network_id":"87a5983b-1b95-4e97-9750-b38942a6047c","network_name":"default","passthrough":"","vepa":"","wait_for_lease":false}],"nvram":null,"qemu_agent":false,"running":true,"timeouts":null,"tpm":[],"type":"kvm","vcpu":4,"video":[],"xml":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["libvirt_cloudinit_disk.master_commoninit","libvirt_volume.base","libvirt_volume.master_debian12-qcow2","null_resource.cache_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"app_debian12-qcow2","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"base_volume_id":"/var/lib/libvirt/images/debian_base.qcow2","base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/debian12-k3s_worker_1.qcow2","name":"debian12-k3s_worker_1.qcow2","pool":"default","size":21474836480,"source":null,"xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["libvirt_volume.base","null_resource.cache_image"]},{"index_key":1,"schema_version":0,"attributes":{"base_volume_id":"/var/lib/libvirt/images/debian_base.qcow2","base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/debian12-k3s_worker_2.qcow2","name":"debian12-k3s_worker_2.qcow2","pool":"default","size":21474836480,"source":null,"xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["libvirt_volume.base","null_resource.cache_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"base","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"base_volume_id":null,"base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/debian_base.qcow2","name":"debian_base.qcow2","pool":"default","size":3221225472,"source":"/tmp/debian-12.qcow2","xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["null_resource.cache_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"master_debian12-qcow2","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"base_volume_id":"/var/lib/libvirt/images/debian_base.qcow2","base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/debian12-k3s_master.qcow2","name":"debian12-k3s_master.qcow2","pool":"default","size":21474836480,"source":null,"xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["libvirt_volume.base","null_resource.cache_image"]}]},{"mode":"managed","type":"null_resource","name":"cache_image","provider":"provider[\"registry.opentofu.org/hashicorp/null\"]","instances":[{"schema_version":0,"attributes":{"id":"5583247168159068786","triggers":{"image_url":"https://cdimage.debian.org/images/cloud/bookworm/latest/debian-12-generic-amd64.qcow2"}},"sensitive_attributes":[]}]}],"check_results":null}
